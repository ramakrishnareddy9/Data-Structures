<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Knapsack Inventory</title>
    <style>
        /* Basic styles for layout and visual feedback */
        <style> :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --success-color: #27ae60;
            --danger-color: #e74c3c;
            --warning-color: #f1c40f;
            --light-gray: #ecf0f1;
            --dark-gray: #7f8c8d;
        }

        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            line-height: 1.6;
            padding: 2rem;
            max-width: 1200px;
            margin: 0 auto;
            background-color: #f8f9fa;
        }

        h3 {
            color: var(--primary-color);
            margin: 1.5rem 0 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--light-gray);
        }

        .form-group {
            margin-bottom: 1.5rem;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            align-items: center;
        }

        input[type="text"],
        input[type="number"] {
            padding: 0.5rem;
            border: 1px solid var(--light-gray);
            border-radius: 4px;
            width: 100%;
            transition: border-color 0.3s ease;
        }

        input[type="text"]:focus,
        input[type="number"]:focus {
            outline: none;
            border-color: var(--secondary-color);
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
        }

        button {
            background-color: var(--secondary-color);
            color: white;
            border: none;
            padding: 0.6rem 1.2rem;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-weight: 500;
        }

        button:hover {
            background-color: #2980b9;
            transform: translateY(-1px);
        }

        button:active {
            transform: translateY(0);
        }

        #messages {
            padding: 0.8rem;
            border-radius: 4px;
            margin: 1rem 0;
            font-weight: 500;
        }

        #messages.success {
            background-color: #e8f6ef;
            color: var(--success-color);
        }

        #messages.danger {
            background-color: #fdedec;
            color: var(--danger-color);
        }

        .container {
            border: 2px solid var(--light-gray);
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            background: white;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            min-height: 120px;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 0.75rem;
        }

        #knapsack {
            background-color: #e9f9f1;
            border-color: var(--success-color);
        }

        .item {
            border: 1px solid var(--light-gray);
            border-radius: 6px;
            padding: 1rem;
            cursor: grab;
            background-color: white;
            transition: all 0.2s ease;
            user-select: none;
        }

        .item:hover {
            transform: translateY(-2px);
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.1);
            border-color: var(--secondary-color);
        }

        .item small {
            display: block;
            margin-top: 0.5rem;
            color: var(--dark-gray);
            font-size: 0.85em;
        }

        #capacityStatus {
            display: flex;
            gap: 2rem;
            margin: 1rem 0;
            padding: 1rem;
            background: white;
            border-radius: 6px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        #capacityStatus span {
            font-weight: 500;
            color: var(--primary-color);
        }

        #capacityStatus span strong {
            color: var(--secondary-color);
            font-weight: 600;
        }

        @media (max-width: 768px) {
            body {
                padding: 1rem;
            }

            .form-group {
                grid-template-columns: 1fr;
            }

            .container {
                grid-template-columns: 1fr;
            }
        }
    </style>
    </style>
</head>

<body>
    <div>
        <label for="capacityInput">Capacity:</label>
        <input type="number" id="capacityInput" value="15" min="1">
        <button onclick="updateCapacity()">Update Capacity</button>
    </div>

    <div>
        <label for="itemName">Item Name:</label>
        <input type="text" id="itemName" placeholder="Optional">
        <label for="itemWeight">Weight:</label>
        <input type="number" id="itemWeight" min="1">
        <label for="itemValue">Value:</label>
        <input type="number" id="itemValue" min="1">
        <button onclick="createItem()">Create Item</button>
    </div>

    <div id="messages"></div>

    <div id="capacityStatus">
        <span id="currentCapacity">Capacity: 0 / 15</span>
        <span id="totalValue">Total Value: 0</span>
    </div>

    <h3>Available Items</h3>
    <div id="itemsContainer" class="container">
        <!-- New items will appear here -->
    </div>

    <h3>Knapsack</h3>
    <div id="knapsack" class="container">
        <!-- Items added to the knapsack will appear here -->
    </div>

    <script>
        let currentWeight = 0;
        let totalValue = 0;
        let maxCapacity = 15;
        let itemCounter = 3;

        // Function to display messages
        function showAlert(message, type) {
            const messages = document.getElementById('messages');
            messages.textContent = message;
            messages.style.color = type === 'danger' ? 'red' : 'green';
            setTimeout(() => {
                messages.textContent = '';
            }, 3000);
        }

        // Update capacity based on the input value
        function updateCapacity() {
            const newCapacity = parseInt(document.getElementById('capacityInput').value);
            if (newCapacity < currentWeight) {
                showAlert(`Cannot reduce capacity below current weight (${currentWeight})`, 'danger');
                document.getElementById('capacityInput').value = maxCapacity;
                return;
            }
            maxCapacity = newCapacity;
            updateCapacityDisplay();
            showAlert(`Capacity updated to ${maxCapacity}`, 'success');
        }

        // Create a new item and add it to the available items container
        function createItem() {
            const name = document.getElementById('itemName').value || `Item ${itemCounter++}`;
            const weight = parseInt(document.getElementById('itemWeight').value);
            const value = parseInt(document.getElementById('itemValue').value);

            if (!weight || !value || weight < 1 || value < 1) {
                showAlert('Please enter valid weight and value!', 'danger');
                return;
            }

            const item = document.createElement('div');
            item.className = 'item';
            item.dataset.weight = weight;
            item.dataset.value = value;
            item.innerHTML = `${name}<br><small>W:${weight} | V:${value}</small>`;

            // Add click event listener for toggling the item's location
            item.addEventListener('click', function () {
                // If item is in the available items container, try to add to knapsack
                if (item.parentElement.id === 'itemsContainer') {
                    if (currentWeight + weight > maxCapacity) {
                        showAlert('Capacity exceeded! Remove items first.', 'danger');
                        return;
                    }
                    currentWeight += weight;
                    totalValue += value;
                    document.getElementById('knapsack').appendChild(item);
                } else {
                    // If item is in the knapsack, remove it back to available items
                    currentWeight -= weight;
                    totalValue -= value;
                    document.getElementById('itemsContainer').appendChild(item);
                }
                updateCapacityDisplay();
            });

            document.getElementById('itemsContainer').appendChild(item);
            clearItemForm();
            showAlert('Item created successfully!', 'success');
        }

        // Clear the form after creating an item
        function clearItemForm() {
            document.getElementById('itemName').value = '';
            document.getElementById('itemWeight').value = '';
            document.getElementById('itemValue').value = '';
        }

        // Update the display for capacity and total value
        function updateCapacityDisplay() {
            const percentage = (currentWeight / maxCapacity) * 100;
            const knapsack = document.getElementById('knapsack');

            // Change knapsack background based on fill percentage
            if (percentage > 90) {
                knapsack.style.backgroundColor = 'red';
            } else if (percentage > 75) {
                knapsack.style.backgroundColor = 'orange';
            } else {
                knapsack.style.backgroundColor = 'lightgreen';
            }

            document.getElementById('currentCapacity').textContent = `Capacity: ${currentWeight} / ${maxCapacity}`;
            document.getElementById('totalValue').textContent = `Total Value: ${totalValue}`;
        }
    </script>
</body>

</html>